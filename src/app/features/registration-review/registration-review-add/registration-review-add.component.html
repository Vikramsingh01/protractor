<div class="edit-view-layout">

	<div class="grid-style shrink-view" *ngIf="authorizedFlag">
		<h2 class="page-title" *ngIf="action == 'Update'">Update Registration Review</h2>
		<h2 class="page-title" *ngIf="action == 'Create'">Add Registration Review</h2>

		<form [formGroup]="registrationReviewAddForm" (ngSubmit)="onSubmit()" autocomplete="off">
			<fieldset class="three-column">
				<legend> <span class="glyphicon glyphicon-flash"></span> Registration Review </legend>
				<div class="row">
					<div class="form-group col-sm-6" *ngIf="isFeildAuthorized('registrationReviewId')">
						<label for="registrationReviewId" title="Registration Review Id">Registration Review Id
                                                                    <span class="mand-text">*</span>
                                                                </label>
						<input type="text" formControlName="registrationReviewId" id="registrationReviewId" class="form-control" placeholder="Registration Review Id"
						/>
						<control-messages [control]="registrationReviewAddForm.controls.registrationReviewId"></control-messages>
					</div>
					<div class="form-group col-sm-6" *ngIf="isFeildAuthorized('registrationId')">
						<label for="registrationId" title="Registration Id">Registration Id
                                                                    <span class="mand-text">*</span>
                                                                </label>
						<input type="text" formControlName="registrationId" id="registrationId" class="form-control" placeholder="Registration Id"
						/>
						<control-messages [control]="registrationReviewAddForm.controls.registrationId"></control-messages>
					</div>


					<div class="form-group col-sm-6">
						<label for="registrationReviewId" title="Registration Type">Registration Type
                                                                        <span class="mand-text">*</span>
                                                                    </label>
						<tr-dropdown [operation] = "action" [tableId]="207" [controlName]="'registrationType'" [dropdown]="registrationReviewAddForm"></tr-dropdown>
						<control-messages [control]="registrationReviewAddForm.controls.registrationType"></control-messages>
					</div>


					<div class="form-group col-sm-6" *ngIf="isFeildAuthorized('dateOfReview')">
						<label for="dateOfReview" title="Date Of Review">Date Of Review
                                                                        <span class="mand-text">*</span>
                                                                    </label>
						<date-picker [controlName]="'dateOfReview'" [form]="registrationReviewAddForm"></date-picker>
						<control-messages [control]="registrationReviewAddForm.controls.dateOfReview"></control-messages>
					</div>
					<div class="form-group col-sm-6" *ngIf="isFeildAuthorized('timeOfReview')">
						<label for="timeOfReview" title="Time Of Review">Time Of Review
                                                                     <span class="mand-text">*</span> </label>
						<timepicker [controlName]="'timeOfReview'" [form]="registrationReviewAddForm" [showMeridian]="false" [showSeconds]="false"
							(timepicker)="close()"></timepicker>
						<control-messages [control]="registrationReviewAddForm.controls.timeOfReview"></control-messages>
					</div>

					<div class="form-group col-sm-6" *ngIf="isFeildAuthorized('spgVersion')">
						<label for="spgVersion" title="Spg Version">Spg Version
                                                                    <span class="mand-text">*</span>
                                                                </label>
						<input type="text" formControlName="spgVersion" id="spgVersion" class="form-control" placeholder="Spg Version" />
						<control-messages [control]="registrationReviewAddForm.controls.spgVersion"></control-messages>
					</div>
					<div class="form-group col-sm-6" *ngIf="isFeildAuthorized('spgUpdateUser')">
						<label for="spgUpdateUser" title="Spg Update User">Spg Update User
                                                                    <span class="mand-text">*</span>
                                                                </label>
						<input type="text" formControlName="spgUpdateUser" id="spgUpdateUser" class="form-control" placeholder="Spg Update User"
						/>
						<control-messages [control]="registrationReviewAddForm.controls.spgUpdateUser"></control-messages>
					</div>
					<div class="form-group col-sm-6" *ngIf="isFeildAuthorized('reviewCompletedYesNoId')">
						<label for="reviewCompletedYesNoId" title="Review Completed Yes No Id">Completed
                                                                    </label>
						<tr-dropdown [operation] = "action" [tableId]="244" [isDataNsrd]="true" (updateDataNsrd)="updateDataNsrd($event)" [controlName]="'reviewCompletedYesNoId'" [excludeCodes]="['U']"
						[dropdown]="registrationReviewAddForm"></tr-dropdown>
						<control-messages [control]="registrationReviewAddForm.controls.reviewCompletedYesNoId"></control-messages>
					</div>

					<!--<div class="form-group col-sm-6" *ngIf="isFeildAuthorized('reviewingTeam')">
                        <label for="reviewingTeam" title="Reviewing Team">Reviewing Team
                                                                        <span class="mand-text">*</span>
                                                                    </label>
                        <tr-dropdown [operation] = "action" [tableId]="445" [controlName]="'reviewingTeam'" [dropdown]="registrationReviewAddForm"></tr-dropdown>
                        <control-messages [control]="registrationReviewAddForm.controls.reviewingTeam"></control-messages>
                    </div>
                    <div class="form-group col-sm-6" *ngIf="isFeildAuthorized('reviewingOfficer')">
                        <label for="reviewingOfficer" title="Reviewing Officer">Reviewing Officer
                                                                        <span class="mand-text">*</span>
                                                                    </label>
                        <tr-dropdown [operation] = "action" [tableId]="279" [controlName]="'reviewingOfficer'" [dropdown]="registrationReviewAddForm"></tr-dropdown>
                        <control-messages [control]="registrationReviewAddForm.controls.reviewingOfficer"></control-messages>
                    </div>-->

					<div class="form-group col-sm-6" *ngIf="isFeildAuthorized('spgRegistrationReviewId')">
						<label for="spgRegistrationReviewId" title="Spg Registration Review Id">Spg Registration Review Id
                                                                    <span class="mand-text">*</span>
                                                                </label>
						<input type="text" formControlName="spgRegistrationReviewId" id="spgRegistrationReviewId" class="form-control" placeholder="Spg Registration Review Id"
						/>
						<control-messages [control]="registrationReviewAddForm.controls.spgRegistrationReviewId"></control-messages>
					</div>
					<div class="form-group col-sm-6" *ngIf="isFeildAuthorized('nextReviewDate') && nsrdData['nextReviewDate']?.active ">
						<label for="nextReviewDate" title="Next Review Date">Next Review Date <span *ngIf="nsrdData['nextReviewDate']?.mandatory" class="mand-text">*</span>
                                                                    </label>
						<date-picker [controlName]="'nextReviewDate'" [form]="registrationReviewAddForm"></date-picker>
						<control-messages [control]="registrationReviewAddForm.controls.nextReviewDate"></control-messages>
					</div>
					<div class="form-group col-sm-6" *ngIf="isFeildAuthorized('nextReviewTime') && nsrdData['nextReviewTime']?.active ">
						<label for="nextReviewTime" title="Next Review Time">Next Review Time <span *ngIf="nsrdData['nextReviewTime']?.mandatory" class="mand-text">*</span>
                                                                    </label>
						<timepicker [controlName]="'nextReviewTime'" [form]="registrationReviewAddForm" [showMeridian]="false" [showSeconds]="false"
							(timepicker)="close()"></timepicker>
						<control-messages [control]="registrationReviewAddForm.controls.nextReviewTime"></control-messages>
					</div>
					<div class="form-group col-sm-6" *ngIf="isFeildAuthorized('createdBy')">
						<label for="createdBy" title="Created By">Created By
                                                                    <span class="mand-text">*</span>
                                                                </label>
						<input type="text" formControlName="createdBy" id="createdBy" class="form-control" placeholder="Created By" />
						<control-messages [control]="registrationReviewAddForm.controls.createdBy"></control-messages>
					</div>
					<div class="form-group col-sm-6" *ngIf="isFeildAuthorized('createdByUserId')">
						<label for="createdByUserId" title="Created By User Id">Created By User Id
                                                                    <span class="mand-text">*</span>
                                                                </label>
						<input type="text" formControlName="createdByUserId" id="createdByUserId" class="form-control" placeholder="Created By User Id"
						/>
						<control-messages [control]="registrationReviewAddForm.controls.createdByUserId"></control-messages>
					</div>
					<div class="form-group col-sm-6" *ngIf="isFeildAuthorized('createdDate')">
						<label for="createdDate" title="Created Date">Created Date
                                                                        <span class="mand-text">*</span>
                                                                    </label>
						<date-picker [controlName]="'createdDate'" [form]="registrationReviewAddForm"></date-picker>
						<control-messages [control]="registrationReviewAddForm.controls.createdDate"></control-messages>
					</div>
					<div class="form-group col-sm-6" *ngIf="isFeildAuthorized('modifiedBy')">
						<label for="modifiedBy" title="Modified By">Modified By
                                                                    <span class="mand-text">*</span>
                                                                </label>
						<input type="text" formControlName="modifiedBy" id="modifiedBy" class="form-control" placeholder="Modified By" />
						<control-messages [control]="registrationReviewAddForm.controls.modifiedBy"></control-messages>
					</div>
					<div class="form-group col-sm-6" *ngIf="isFeildAuthorized('modifiedByUserId')">
						<label for="modifiedByUserId" title="Modified By User Id">Modified By User Id
                                                                    <span class="mand-text">*</span>
                                                                </label>
						<input type="text" formControlName="modifiedByUserId" id="modifiedByUserId" class="form-control" placeholder="Modified By User Id"
						/>
						<control-messages [control]="registrationReviewAddForm.controls.modifiedByUserId"></control-messages>
					</div>
					<div class="form-group col-sm-6" *ngIf="isFeildAuthorized('modifiedDate')">
						<label for="modifiedDate" title="Modified Date">Modified Date
                                                                        <span class="mand-text">*</span>
                                                                    </label>
						<date-picker [controlName]="'modifiedDate'" [form]="registrationReviewAddForm"></date-picker>
						<control-messages [control]="registrationReviewAddForm.controls.modifiedDate"></control-messages>
					</div>
					<div class="form-group col-sm-6" *ngIf="isFeildAuthorized('deleted')">
						<label for="deleted" title="Deleted">Deleted
                                                                    <span class="mand-text">*</span>
                                                                </label>
						<input type="text" formControlName="deleted" id="deleted" class="form-control" placeholder="Deleted" />
						<control-messages [control]="registrationReviewAddForm.controls.deleted"></control-messages>
					</div>
					<div class="form-group col-sm-6" *ngIf="isFeildAuthorized('deletedBy')">
						<label for="deletedBy" title="Deleted By">Deleted By
                                                                </label>
						<input type="text" formControlName="deletedBy" id="deletedBy" class="form-control" placeholder="Deleted By" />
						<control-messages [control]="registrationReviewAddForm.controls.deletedBy"></control-messages>
					</div>
					<div class="form-group col-sm-6" *ngIf="isFeildAuthorized('deletedByUserId')">
						<label for="deletedByUserId" title="Deleted By User Id">Deleted By User Id
                                                                </label>
						<input type="text" formControlName="deletedByUserId" id="deletedByUserId" class="form-control" placeholder="Deleted By User Id"
						/>
						<control-messages [control]="registrationReviewAddForm.controls.deletedByUserId"></control-messages>
					</div>
					<div class="form-group col-sm-6" *ngIf="isFeildAuthorized('deletedDate')">
						<label for="deletedDate" title="Deleted Date">Deleted Date
                                                                    </label>
						<date-picker [controlName]="'deletedDate'" [form]="registrationReviewAddForm"></date-picker>
						<control-messages [control]="registrationReviewAddForm.controls.deletedDate"></control-messages>
					</div>
					<div class="form-group col-sm-6" *ngIf="isFeildAuthorized('locked')">
						<label for="locked" title="Locked">Locked
                                                                    <span class="mand-text">*</span>
                                                                </label>
						<input type="text" formControlName="locked" id="locked" class="form-control" placeholder="Locked" />
						<control-messages [control]="registrationReviewAddForm.controls.locked"></control-messages>
					</div>
					<div class="form-group col-sm-6" *ngIf="isFeildAuthorized('version')">
						<label for="version" title="Version">Version
                                                                    <span class="mand-text">*</span>
                                                                </label>
						<input type="text" formControlName="version" id="version" class="form-control" placeholder="Version" />
						<control-messages [control]="registrationReviewAddForm.controls.version"></control-messages>
					</div>
                    <div class="form-group col-sm-6">
					<label for="reviewProviderId" title="Provider">Reviewing Provider<span class="mand-text">*</span></label>
						<select class="form-control" formControlName="reviewProviderId" (change)="changeForTeam($event.target.options)" id="reviewProviderId">
							<option value=null>--Select--</option>
							<option *ngFor="let provider of providers" [value]="provider?.key" >{{provider?.value?.split("/")[1]}}</option>
						</select>
						<control-messages [control]="registrationReviewAddForm.controls.reviewProviderId"></control-messages>
					</div>

					<div class="form-group col-sm-6">
						<label for="reviewingTeam" title="Team">Reviewing Team<span class="mand-text">*</span></label>
						<select class="form-control" formControlName="reviewingTeam" (change)="change($event.target.options)" id="reviewingTeam">
							<option value=null>--Select--</option>
							<option *ngFor="let org of orgs" [value]="org?.value" >{{org?.value?.split("/")[1]}}</option>
						</select>
						<control-messages [control]="registrationReviewAddForm.controls.reviewingTeam"></control-messages>
					</div>

					<div class="form-group col-sm-6">
						<label for="reviewingOfficer" title="Officer">Reviewing Case Manager<span class="mand-text">*</span></label>
						<select class="form-control" formControlName="reviewingOfficer" id="reviewingOfficer">
                            <option value=null>--Select--</option>
                            	<option *ngFor="let user of officerIds" [value]="user?.value">
									<span >{{user?.value?.split("/")[1]}}</span>
								</option>
                        </select>
						<control-messages [control]="registrationReviewAddForm.controls.reviewingOfficer"></control-messages>
					</div>

					<div class="form-group col-sm-12 note-style" *ngIf="isFeildAuthorized('note')">
						<tr-notes [controlName]="'note'" [form]="registrationReviewAddForm" [action]="action" [previousNotes]="previousNotes" [label]="'Notes'"></tr-notes>
						<control-messages [control]="registrationReviewAddForm.controls.note"></control-messages>
					</div>

					<div class="form-group col-sm-12 text-right">
						<button class="btn btn-default btn-purple" id="saveButton" fromServerMessageValidator [form]="registrationReviewAddForm">Submit</button>
						<button type="button" *ngIf="action == 'Create'" (click)="navigateTo(['../..'])" id="cancelButton" class="btn btn-default btn-white">Cancel</button>
						<button type="button" *ngIf="action == 'Update'" (click)="navigateTo(['../../..'])" id="cancelButton" class="btn btn-default btn-white">Cancel</button>
					</div>
				</div>
			</fieldset>

		</form>

	</div>
</div>
