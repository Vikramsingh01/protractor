<div class="list-view-layout">
	<h2 class="page-title">Service Provider Contact</h2>
	<div class="double-divider-purple mt10"></div>
	<div class="grid-style" *ngIf="authorizedFlag">
		<tr-accordion>
			<tr-accordionTab header="Service Provider Contact" [selected]="true">
				<div class="grid-head">
					<tr-accordion-header>
						<div *ngIf="isAuthorized('Create')" class="pull-right">
							<a [routerLink]="['new']"><button class="btn btn-default btn-white  pull-right">Add</button></a>
						</div>
					</tr-accordion-header>
					<tr-list-refresh (refreshCommand)="sortFilterAndPaginate(sortSearchPaginationObj?.filterObj, sortSearchPaginationObj?.paginationObj, sortSearchPaginationObj?.sortObj)"></tr-list-refresh>
				</div>
				<div class="pad15">
					<div class="grid-style filter-div">
						<tr-accordion>
							<tr-accordionTab header="filter">

								<div class="grid-head">

								</div>
								<div class="pad15 nopadbtm">
									<tr-search [searchObjs]="searchObjs" (searchCommand)="searchServiceProviderContact($event)"></tr-search>
								</div>
							</tr-accordionTab>
						</tr-accordion>
					</div>
					

					<div class="row">
						<div class="col-md-12">
							<div class="table-div">
								<table class="table table-bordered">
									<thead>
										<tr>
											<!-- <th *ngIf="isFeildAuthorized('serviceProviderContactId')" trSortBy="serviceProviderContactId" (sortCommand)="sort($event)"><span class="th-div">Service Provider Contact Id<span *ngIf="sortFilterPaginationObj.sortObj.field == 'serviceProviderContactId'"
											[ngClass]="{'glyphicon-chevron-up':sortFilterPaginationObj.sortObj.sort=='asc', 'glyphicon-chevron-down':sortFilterPaginationObj.sortObj.sort=='desc'}" class="glyphicon"></span></span></th>  -->

											<th *ngIf="isFeildAuthorized('firstName' && 'familyName')" trSortBy="firstName" (sortCommand)="sort($event)"><span class="th-div">Contact Name<span *ngIf="sortFilterPaginationObj.sortObj.field == 'firstName'"
											[ngClass]="{'glyphicon-chevron-up':sortFilterPaginationObj.sortObj.sort=='asc', 'glyphicon-chevron-down':sortFilterPaginationObj.sortObj.sort=='desc'}" class="glyphicon">
											</span></span>
											</th>

											<th *ngIf="isFeildAuthorized('serviceProviderName')" trSortBy="serviceProviderName" (sortCommand)="sort($event)"><span class="th-div">Service Provider Name<span *ngIf="sortFilterPaginationObj.sortObj.field == 'serviceProviderName'"
											[ngClass]="{'glyphicon-chevron-up':sortFilterPaginationObj.sortObj.sort=='asc', 'glyphicon-chevron-down':sortFilterPaginationObj.sortObj.sort=='desc'}" class="glyphicon"></span></span>
											</th>
											<!--<th *ngIf="isFeildAuthorized('selectedCrc')" trSortBy="selectedCrc" (sortCommand)="sort($event)"><span class="th-div">Selected Crc<span *ngIf="sortFilterPaginationObj.sortObj.field == 'selectedCrc'"
											[ngClass]="{'glyphicon-chevron-up':sortFilterPaginationObj.sortObj.sort=='asc', 'glyphicon-chevron-down':sortFilterPaginationObj.sortObj.sort=='desc'}" class="glyphicon"></span></span>
											</th>-->
											<!-- <th *ngIf="isFeildAuthorized('title')" trSortBy="title" (sortCommand)="sort($event)"><span class="th-div">Title<span *ngIf="sortFilterPaginationObj.sortObj.field == 'title'"
											[ngClass]="{'glyphicon-chevron-up':sortFilterPaginationObj.sortObj.sort=='asc', 'glyphicon-chevron-down':sortFilterPaginationObj.sortObj.sort=='desc'}" class="glyphicon"></span></span></th> -->
											<!-- <th *ngIf="isFeildAuthorized('firstName')" trSortBy="firstName" (sortCommand)="sort($event)"><span class="th-div">First Name<span *ngIf="sortFilterPaginationObj.sortObj.field == 'firstName'"
											[ngClass]="{'glyphicon-chevron-up':sortFilterPaginationObj.sortObj.sort=='asc', 'glyphicon-chevron-down':sortFilterPaginationObj.sortObj.sort=='desc'}" class="glyphicon"></span></span></th> -->
											<!-- <th *ngIf="isFeildAuthorized('familyName')" trSortBy="familyName" (sortCommand)="sort($event)"><span class="th-div">Family Name<span *ngIf="sortFilterPaginationObj.sortObj.field == 'familyName'"
											[ngClass]="{'glyphicon-chevron-up':sortFilterPaginationObj.sortObj.sort=='asc', 'glyphicon-chevron-down':sortFilterPaginationObj.sortObj.sort=='desc'}" class="glyphicon"></span></span></th> -->
											<!-- <th *ngIf="isFeildAuthorized('positionInOrganisation')" trSortBy="positionInOrganisation" (sortCommand)="sort($event)"><span class="th-div">Position In Organisation<span *ngIf="sortFilterPaginationObj.sortObj.field == 'positionInOrganisation'"
											[ngClass]="{'glyphicon-chevron-up':sortFilterPaginationObj.sortObj.sort=='asc', 'glyphicon-chevron-down':sortFilterPaginationObj.sortObj.sort=='desc'}" class="glyphicon"></span></span></th> -->
											<th *ngIf="isFeildAuthorized('status')" trSortBy="status" (sortCommand)="sort($event)"><span class="th-div">Status<span *ngIf="sortFilterPaginationObj.sortObj.field == 'status'"
											[ngClass]="{'glyphicon-chevron-up':sortFilterPaginationObj.sortObj.sort=='asc', 'glyphicon-chevron-down':sortFilterPaginationObj.sortObj.sort=='desc'}" class="glyphicon"></span></span>
											</th>
											<th *ngIf="isFeildAuthorized('telephoneNo')" trSortBy="telephoneNo" (sortCommand)="sort($event)" class="text-center"><span class="th-div">Telephone No<span *ngIf="sortFilterPaginationObj.sortObj.field == 'telephoneNo'"
											[ngClass]="{'glyphicon-chevron-up':sortFilterPaginationObj.sortObj.sort=='asc', 'glyphicon-chevron-down':sortFilterPaginationObj.sortObj.sort=='desc'}" class="glyphicon"></span></span>
											</th>
											<!-- <th *ngIf="isFeildAuthorized('mobileNo')" trSortBy="mobileNo" (sortCommand)="sort($event)"><span class="th-div">Mobile No<span *ngIf="sortFilterPaginationObj.sortObj.field == 'mobileNo'"
											[ngClass]="{'glyphicon-chevron-up':sortFilterPaginationObj.sortObj.sort=='asc', 'glyphicon-chevron-down':sortFilterPaginationObj.sortObj.sort=='desc'}" class="glyphicon"></span></span></th> -->
											<!-- <th *ngIf="isFeildAuthorized('contactEmail')" trSortBy="contactEmail" (sortCommand)="sort($event)"><span class="th-div">Contact Email<span *ngIf="sortFilterPaginationObj.sortObj.field == 'contactEmail'"
											[ngClass]="{'glyphicon-chevron-up':sortFilterPaginationObj.sortObj.sort=='asc', 'glyphicon-chevron-down':sortFilterPaginationObj.sortObj.sort=='desc'}" class="glyphicon"></span></span></th> -->
											<!-- <th *ngIf="isFeildAuthorized('isSecureEmail')" trSortBy="isSecureEmail" (sortCommand)="sort($event)"><span class="th-div">Is Secure Email<span *ngIf="sortFilterPaginationObj.sortObj.field == 'isSecureEmail'"
											[ngClass]="{'glyphicon-chevron-up':sortFilterPaginationObj.sortObj.sort=='asc', 'glyphicon-chevron-down':sortFilterPaginationObj.sortObj.sort=='desc'}" class="glyphicon"></span></span></th> -->
											<!-- <th *ngIf="isFeildAuthorized('programmeAccreditation')" trSortBy="programmeAccreditation" (sortCommand)="sort($event)"><span class="th-div">Programme Accreditation<span *ngIf="sortFilterPaginationObj.sortObj.field == 'programmeAccreditation'"
											[ngClass]="{'glyphicon-chevron-up':sortFilterPaginationObj.sortObj.sort=='asc', 'glyphicon-chevron-down':sortFilterPaginationObj.sortObj.sort=='desc'}" class="glyphicon"></span></span></th> -->

											<th *ngIf="isAuthorized('Read')" class="text-center">View</th>
											<th *ngIf="isAuthorized('Update')" class="text-center">Edit</th>
											<th *ngIf="isAuthorized('Archive')" class="text-center">Delete</th>
										</tr>
									</thead>
									<tbody>

										<tr *ngFor="let serviceProviderContact of serviceProviderContactList">
											<td *ngIf="isFeildAuthorized('firstName')">{{serviceProviderContact?.firstName}}</td>
											<!--<td *ngIf="isFeildAuthorized('contactName')">{{serviceProvider.firstName}}</td>-->
											<!--<td *ngIf="isFeildAuthorized('serviceProviderName')">{{serviceProviderContact?.serviceProviderName}}</td>
											
											-->
											<td *ngIf="isFeildAuthorized('serviceProviderName')">
												<span *ngFor="let serviceProvider of serviceProviderNameList;let i = index">
                                              <span *ngIf="serviceProvider?.key===(serviceProviderContact?.serviceProviderId)>=0;">-->
                                                                                                                                                                                                                                
                                             {{serviceProvider?.value}}

												</span>
												</span>

											</td>

											<td *ngIf="isFeildAuthorized('status')">
												<span *ngFor="let status of statusList | filter :'key' : serviceProviderContact?.status">{{status.value}}</span>
											</td>
											<td *ngIf="isFeildAuthorized('telephoneNo')" class="text-center">{{serviceProviderContact?.telephoneNo}}</td>

											
											<td *ngIf="isAuthorized('Read')" class="text-center"><button [routerLink]="[serviceProviderContact?.serviceProviderContactId]" class="btn btn-default btn-small"><span class="glyphicon glyphicon-search">aa</span></button></td>
											<td *ngIf="isAuthorized('Update')" class="text-center">
												<button [routerLink]="['edit',serviceProviderContact?.serviceProviderContactId]" class="btn btn-default btn-small"><span class="glyphicon glyphicon-pencil">aa</span></button>
											</td>
											<td *ngIf="isAuthorized('Archive')" class="text-center">
												<button (click)="delete(serviceProviderContact?.serviceProviderContactId)" class="btn btn-default btn-small"><span class="glyphicon glyphicon-trash">aa</span></button>
											</td>
										</tr>
									</tbody>

								</table>
								<div *ngIf="serviceProviderContactList?.length<=0" class="no-records">No Records Found</div>
							</div>
						</div>
						<tr-pagination [name]="'serviceProviderContactList'" *ngIf="serviceProviderContactList?.length>0" [paginationObj]="sortFilterPaginationObj?.paginationObj" (paginationCommand)="paginate($event)"></tr-pagination>
					</div>
				</div>
			</tr-accordionTab>
		</tr-accordion>
	</div>
	<div *ngIf="!authorizedFlag">Not Authorized</div>
</div>